from fpcalc import encode, decode

orig_path = 'M 2.94,0.19|C 2.44,0.4 1.54,0.63 0.12,0.77|M 2.03,0.47|L 2.45,1.36|M 1.08,1.11|L 1.38,1.74|M 3.17,0.99|C 2.7,1.27 1.6,1.78 0.18,2.02|M 1.98,1.54|C 2.72,2.49 3.09,3.4 2.42,4.4|L 1.86,4.24|M 2.35,2.07|C 1.81,2.5 1.08,2.88 0.14,3.15|M 2.68,2.77|C 2.16,3.21 1.25,3.83 0.1,4.16|M 3.54,0.45|H 6.41|V 2.27|H 4.34|M 3.74,1.32|H 5.78|M 3.74,0.45|V 4.16|M 3.21,4.26|L 5.18,3.88|M 6.71,2.81|L 5.87,3.68|M 5.02,2.78|L 6.82,4.68|M 2.08,5.04|L 2.11,6.5|C 2.92,6.68 4.13,6.69 5.44,6.5|M 1.05,5.14|Q 0.85,5.7 0.22,6.55|M 3.12,4.8|L 4.4,5.49|M 5.85,5.1|Q 6.2,5.8 6.77,6.56'.split("|")
character = b'@\xe1\x9e\x85\xc6\x85C\xe1\x8e\x85\xcc\xb3\xe0\xb1\x92\xd4\x8a\xc3\xb6\xd8\xa9@\xe1\x80\xbd\xcf\x83A\xe1\x8e\x9a\xe0\xab\xa1@\xe0\xa2\xa4\xe0\xa3\xa1A\xe0\xac\x8a\xe0\xb7\xac@\xe1\xa5\x9c\xdf\xacC\xe1\x96\x9a\xe0\xa8\xa9\xe0\xb3\x8d\xe0\xb8\xbd\xc5\xb1\xe1\x80\xa9@\xe0\xbf\x97\xe0\xb1\x92C\xe1\x97\x83\xe1\x8f\xac\xe1\xa2\xb8\xe1\xac\xb3\xe1\x8d\x9c\xe2\x8c\xb3A\xe0\xbb\xa1\xe2\x87\xac@\xe1\x8b\x8d\xe1\x82\x8fC\xe0\xb9\xbb\xe1\x90\x80\xe0\xa2\xa4\xe1\x9c\x8a\xc4\x9f\xe1\xa4\xb3@\xe1\x95\xb1\xe1\x98\xa9C\xe1\x85\x88\xe1\xa6\xae\xe0\xa8\x80\xe1\xba\xa4\xc3\x8d\xe2\x85\x88@\xe1\xb1\x92\xce\x9aA\xe3\x8d\x88\xce\x9aA\xe3\x8d\x88\xe1\x88\xa9A\xe2\x8a\xb8\xe1\x88\xa9@\xe1\xb7\xac\xe0\xaa\x8fA\xe2\xb8\xbd\xe0\xaa\x8f@\xe1\xb7\xac\xce\x9aA\xe1\xb7\xac\xe2\x85\x88@\xe1\xa6\xae\xe2\x88\x94A\xe2\xa5\xb1\xe1\xbc\x8a@\xe3\x96\xae\xe1\x99\xbbA\xe2\xbb\xb6\xe1\xb5\xb1@\xe2\xa0\xa9\xe1\x98\xbdA\xe3\x9a\x8f\xe2\x95\xb1@\xe1\x82\xa4\xe2\xa1\x92A\xe1\x83\xa1\xe3\x90\x80C\xe1\x9d\x9c\xe3\x95\xb1\xe2\x84\x8a\xe3\x96\x85\xe2\xae\x85\xe3\x90\x80@\xe0\xa1\xa6\xe2\xa4\x9fB\xdb\x8d\xe2\xb6\x9a\xc7\x83\xe3\x91\xa6@\xe1\xa3\xb6\xe2\x99\xa6A\xe2\x8c\xb3\xe2\xaf\xac@\xe2\xbb\x8d\xe2\xa3\x8dB\xe3\x86\x9a\xe2\xb9\xa6\xe3\x98\xa9\xe3\x91\xbb'.decode("utf-8")

print(character, len(character))

repath = []

index = 0
i = 0
while index < len(character):
  char = character[index]
  print(char, index)
  type_ = ord(char)&3
  posnum = ord("\x02\x02\x04\x06"[type_])
  print("MLQC"[type_],posnum)
  index += 1
  pos = character[index:index+posnum]
  print(repr(pos), index, index+posnum)
  pos = [round(decode(ord(p)),2) for p in pos]
  rep = "MLQC"[type_]+" "+" ".join([f"{x},{y}" for (x,y) in zip(pos[::2],pos[1::2])])
  print(rep)
  repath.append(rep)
  if type_ == 0:
    x,y = pos
    index += 2
    i += 1
    continue
  print(pos)
  print(orig_path[i])
  index += posnum
  i += 1

print(" ".join(repath))
